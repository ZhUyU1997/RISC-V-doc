<table border="0" height="1453" width="1123">
<tr><td>
<div style="position:absolute; top:0; left:0;"><img height="1453" width="1123"src="bgimg/bg00016.jpg"/></div>
<div style="position:absolute;top:74.119;left:132.145;"><nobr>
<span style="font-size:20.022;">4</span>
</nobr></div>
<div style="position:absolute;top:74.119;left:331.141;"><nobr>
<span style="font-size:20.022;font-style:italic;">Volume II: RISC-V Privileged Architectures V20190608-Priv-MSU-Ratified</span>
</nobr></div>
<div style="position:absolute;top:130.572;left:132.145;"><nobr>
<span style="font-size:20.022;">will then execute the trap handler, which will eventually resume execution at or after the original</span>
</nobr></div>
<div style="position:absolute;top:155.440;left:132.145;"><nobr>
<span style="font-size:20.022;">trapped instruction in U-mode. Traps that increase privilege level are termed</span>
<span style="font-size:20.022;font-style:italic;">vertical</span>
<span style="font-size:20.022;">traps, while</span>
</nobr></div>
<div style="position:absolute;top:180.307;left:132.145;"><nobr>
<span style="font-size:20.022;">traps that remain at the same privilege level are termed</span>
<span style="font-size:20.022;font-style:italic;">horizontal</span>
<span style="font-size:20.022;">traps. The RISC-V privileged</span>
</nobr></div>
<div style="position:absolute;top:205.174;left:132.145;"><nobr>
<span style="font-size:20.022;">architecture provides flexible routing of traps to different privilege layers.</span>
</nobr></div>
<div style="position:absolute;top:264.063;left:182.201;"><nobr>
<span style="font-size:18.285;font-style:italic;">Horizontal traps can be implemented as vertical traps that return control to a horizontal trap</span>
</nobr></div>
<div style="position:absolute;top:286.004;left:182.201;"><nobr>
<span style="font-size:18.285;font-style:italic;">handler in the less-privileged mode.</span>
</nobr></div>
<div style="position:absolute;top:357.304;left:132.145;"><nobr>
<span style="font-size:26.330;font-weight:bold;">1.3</span>
</nobr></div>
<div style="position:absolute;top:357.304;left:199.577;"><nobr>
<span style="font-size:26.330;font-weight:bold;">Debug Mode</span>
</nobr></div>
<div style="position:absolute;top:424.662;left:132.145;"><nobr>
<span style="font-size:20.022;">Implementations may also include a debug mode to support off-chip debugging and/or manufac-</span>
</nobr></div>
<div style="position:absolute;top:449.529;left:132.145;"><nobr>
<span style="font-size:20.022;">turing test. Debug mode (D-mode) can be considered an additional privilege mode, with even more</span>
</nobr></div>
<div style="position:absolute;top:474.396;left:132.145;"><nobr>
<span style="font-size:20.022;">access than M-mode. The separate debug specification proposal describes operation of a RISC-V</span>
</nobr></div>
<div style="position:absolute;top:499.263;left:132.145;"><nobr>
<span style="font-size:20.022;">hart in debug mode. Debug mode reserves a few CSR addresses that are only accessible in D-mode,</span>
</nobr></div>
<div style="position:absolute;top:524.132;left:132.145;"><nobr>
<span style="font-size:20.022;">and may also reserve some portions of the physical address space on a platform.</span>
</nobr></div>
</td></tr>
</table>
