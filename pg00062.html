<table border="0" height="1453" width="1123">
<tr><td>
<div style="position:absolute; top:0; left:0;"><img height="1453" width="1123"src="bgimg/bg00062.jpg"/></div>
<div style="position:absolute;top:74.119;left:132.145;"><nobr>
<span style="font-size:20.022;">50</span>
</nobr></div>
<div style="position:absolute;top:74.119;left:331.141;"><nobr>
<span style="font-size:20.022;font-style:italic;">Volume II: RISC-V Privileged Architectures V20190608-Priv-MSU-Ratified</span>
</nobr></div>
<div style="position:absolute;top:128.281;left:264.443;"><nobr>
<span style="font-size:14.628;">31</span>
</nobr></div>
<div style="position:absolute;top:128.281;left:845.687;"><nobr>
<span style="font-size:14.628;">0</span>
</nobr></div>
<div style="position:absolute;top:147.856;left:475.662;"><nobr>
<span style="font-size:16.456;">address[33:2] (</span>
<span style="font-size:16.456;font-weight:bold;">WARL</span>
<span style="font-size:16.456;">)</span>
</nobr></div>
<div style="position:absolute;top:168.702;left:547.676;"><nobr>
<span style="font-size:16.456;">32</span>
</nobr></div>
<div style="position:absolute;top:215.006;left:345.518;"><nobr>
<span style="font-size:20.022;">Figure 3.26: PMP address register format, RV32.</span>
</nobr></div>
<div style="position:absolute;top:260.032;left:209.654;"><nobr>
<span style="font-size:14.628;">63</span>
</nobr></div>
<div style="position:absolute;top:260.032;left:259.828;"><nobr>
<span style="font-size:14.628;">54</span>
</nobr></div>
<div style="position:absolute;top:279.607;left:215.720;"><nobr>
<span style="font-size:16.456;">0 (</span>
<span style="font-size:16.456;font-weight:bold;">WARL</span>
<span style="font-size:16.456;">)</span>
</nobr></div>
<div style="position:absolute;top:300.451;left:231.239;"><nobr>
<span style="font-size:16.456;">10</span>
</nobr></div>
<div style="position:absolute;top:260.032;left:319.217;"><nobr>
<span style="font-size:14.628;">53</span>
</nobr></div>
<div style="position:absolute;top:279.607;left:530.084;"><nobr>
<span style="font-size:16.456;">address[55:2] (</span>
<span style="font-size:16.456;font-weight:bold;">WARL</span>
<span style="font-size:16.456;">)</span>
</nobr></div>
<div style="position:absolute;top:300.451;left:602.432;"><nobr>
<span style="font-size:16.456;">54</span>
</nobr></div>
<div style="position:absolute;top:260.032;left:900.476;"><nobr>
<span style="font-size:14.628;">0</span>
</nobr></div>
<div style="position:absolute;top:346.755;left:345.518;"><nobr>
<span style="font-size:20.022;">Figure 3.27: PMP address register format, RV64.</span>
</nobr></div>
<div style="position:absolute;top:408.700;left:132.145;"><nobr>
<span style="font-size:20.022;">of these bits is clear, the corresponding access type is denied. The combination R=0 and W=1 is</span>
</nobr></div>
<div style="position:absolute;top:433.567;left:132.145;"><nobr>
<span style="font-size:20.022;">reserved for future use. The remaining two fields, A and L, are described in the following sections.</span>
</nobr></div>
<div style="position:absolute;top:478.593;left:217.102;"><nobr>
<span style="font-size:14.628;">7</span>
</nobr></div>
<div style="position:absolute;top:478.593;left:296.136;"><nobr>
<span style="font-size:14.628;">6</span>
</nobr></div>
<div style="position:absolute;top:478.593;left:425.433;"><nobr>
<span style="font-size:14.628;">5</span>
</nobr></div>
<div style="position:absolute;top:478.593;left:460.788;"><nobr>
<span style="font-size:14.628;">4</span>
</nobr></div>
<div style="position:absolute;top:478.593;left:590.085;"><nobr>
<span style="font-size:14.628;">3</span>
</nobr></div>
<div style="position:absolute;top:478.593;left:663.487;"><nobr>
<span style="font-size:14.628;">2</span>
</nobr></div>
<div style="position:absolute;top:478.593;left:780.569;"><nobr>
<span style="font-size:14.628;">1</span>
</nobr></div>
<div style="position:absolute;top:478.593;left:898.324;"><nobr>
<span style="font-size:14.628;">0</span>
</nobr></div>
<div style="position:absolute;top:498.168;left:176.845;"><nobr>
<span style="font-size:16.456;">L (</span>
<span style="font-size:16.456;font-weight:bold;">WARL</span>
<span style="font-size:16.456;">)</span>
</nobr></div>
<div style="position:absolute;top:519.014;left:216.759;"><nobr>
<span style="font-size:16.456;">1</span>
</nobr></div>
<div style="position:absolute;top:498.168;left:318.408;"><nobr>
<span style="font-size:16.456;">0 (</span>
<span style="font-size:16.456;font-weight:bold;">WARL</span>
<span style="font-size:16.456;">)</span>
</nobr></div>
<div style="position:absolute;top:519.014;left:357.610;"><nobr>
<span style="font-size:16.456;">2</span>
</nobr></div>
<div style="position:absolute;top:498.168;left:480.953;"><nobr>
<span style="font-size:16.456;">A (</span>
<span style="font-size:16.456;font-weight:bold;">WARL</span>
<span style="font-size:16.456;">)</span>
</nobr></div>
<div style="position:absolute;top:519.014;left:522.257;"><nobr>
<span style="font-size:16.456;">2</span>
</nobr></div>
<div style="position:absolute;top:498.168;left:621.828;"><nobr>
<span style="font-size:16.456;">X (</span>
<span style="font-size:16.456;font-weight:bold;">WARL</span>
<span style="font-size:16.456;">)</span>
</nobr></div>
<div style="position:absolute;top:519.014;left:663.124;"><nobr>
<span style="font-size:16.456;">1</span>
</nobr></div>
<div style="position:absolute;top:498.168;left:736.906;"><nobr>
<span style="font-size:16.456;">W (</span>
<span style="font-size:16.456;font-weight:bold;">WARL</span>
<span style="font-size:16.456;">)</span>
</nobr></div>
<div style="position:absolute;top:519.014;left:780.196;"><nobr>
<span style="font-size:16.456;">1</span>
</nobr></div>
<div style="position:absolute;top:498.168;left:856.800;"><nobr>
<span style="font-size:16.456;">R (</span>
<span style="font-size:16.456;font-weight:bold;">WARL</span>
<span style="font-size:16.456;">)</span>
</nobr></div>
<div style="position:absolute;top:519.014;left:897.942;"><nobr>
<span style="font-size:16.456;">1</span>
</nobr></div>
<div style="position:absolute;top:565.317;left:350.497;"><nobr>
<span style="font-size:20.022;">Figure 3.28: PMP configuration register format.</span>
</nobr></div>
<div style="position:absolute;top:613.493;left:132.145;"><nobr>
<span style="font-size:20.022;">Attempting to fetch an instruction from a PMP region that does not have execute permissions</span>
</nobr></div>
<div style="position:absolute;top:638.362;left:132.145;"><nobr>
<span style="font-size:20.022;">raises a fetch access exception. Attempting to execute a load or load-reserved instruction whose</span>
</nobr></div>
<div style="position:absolute;top:663.230;left:132.145;"><nobr>
<span style="font-size:20.022;">effective address lies within a PMP region without read permissions raises a load access exception.</span>
</nobr></div>
<div style="position:absolute;top:688.097;left:132.145;"><nobr>
<span style="font-size:20.022;">Attempting to execute a store, store-conditional (regardless of success), or AMO instruction whose</span>
</nobr></div>
<div style="position:absolute;top:712.964;left:132.145;"><nobr>
<span style="font-size:20.022;">effective address lies within a PMP region without write permissions raises a store access exception.</span>
</nobr></div>
<div style="position:absolute;top:756.117;left:132.145;"><nobr>
<span style="font-size:20.022;">If MXLEN is changed, the contents of the pmp</span>
<span style="font-size:20.022;font-style:italic;">x</span>
<span style="font-size:20.022;">cfg fields are preserved, but appear in the pmpcfg</span>
<span style="font-size:20.022;font-style:italic;">y</span>
</nobr></div>
<div style="position:absolute;top:780.984;left:132.145;"><nobr>
<span style="font-size:20.022;">CSR prescribed by the new setting of MXLEN. For example, when MXLEN is changed from 64 to</span>
</nobr></div>
<div style="position:absolute;top:805.851;left:132.145;"><nobr>
<span style="font-size:20.022;">32, pmp4cfg moves from pmpcfg0 [39:32] to pmpcfg1 [7:0]. The pmpaddr CSRs follow the usual CSR</span>
</nobr></div>
<div style="position:absolute;top:830.720;left:132.145;"><nobr>
<span style="font-size:20.022;">width modulation rules described in Section</span>
<span style="font-size:20.022;color: #000080;"><a href="#" onClick="javascript:parent.GotoNewPage(24); return false">2.4</a></span>
<span style="font-size:20.022;">.</span>
</nobr></div>
<div style="position:absolute;top:905.112;left:132.145;"><nobr>
<span style="font-size:20.022;font-weight:bold;">Address Matching</span>
</nobr></div>
<div style="position:absolute;top:961.841;left:132.145;"><nobr>
<span style="font-size:20.022;">The A field in a PMP entry’s configuration register encodes the address-matching mode of the</span>
</nobr></div>
<div style="position:absolute;top:986.708;left:132.145;"><nobr>
<span style="font-size:20.022;">associated PMP address register. The encoding of this field is shown in Table</span>
<span style="font-size:20.022;color: #000080;"><a href="#" onClick="javascript:parent.GotoNewPage(61); return false">3.9</a></span>
<span style="font-size:20.022;">. When A=0,</span>
</nobr></div>
<div style="position:absolute;top:1011.576;left:132.145;"><nobr>
<span style="font-size:20.022;">this PMP entry is disabled and matches no addresses. Two other address-matching modes are</span>
</nobr></div>
<div style="position:absolute;top:1036.443;left:132.145;"><nobr>
<span style="font-size:20.022;">supported: naturally aligned power-of-2 regions (NAPOT), including the special case of naturally</span>
</nobr></div>
<div style="position:absolute;top:1061.310;left:132.145;"><nobr>
<span style="font-size:20.022;">aligned four-byte regions (NA4); and the top boundary of an arbitrary range (TOR). These modes</span>
</nobr></div>
<div style="position:absolute;top:1086.179;left:132.145;"><nobr>
<span style="font-size:20.022;">support four-byte granularity.</span>
</nobr></div>
<div style="position:absolute;top:1131.519;left:283.663;"><nobr>
<span style="font-size:20.022;">A</span>
</nobr></div>
<div style="position:absolute;top:1157.119;left:288.669;"><nobr>
<span style="font-size:20.022;">0</span>
</nobr></div>
<div style="position:absolute;top:1181.986;left:288.669;"><nobr>
<span style="font-size:20.022;">1</span>
</nobr></div>
<div style="position:absolute;top:1206.853;left:288.669;"><nobr>
<span style="font-size:20.022;">2</span>
</nobr></div>
<div style="position:absolute;top:1231.720;left:288.669;"><nobr>
<span style="font-size:20.022;">3</span>
</nobr></div>
<div style="position:absolute;top:1131.519;left:332.894;"><nobr>
<span style="font-size:20.022;">Name</span>
</nobr></div>
<div style="position:absolute;top:1157.119;left:337.343;"><nobr>
<span style="font-size:20.022;">OFF</span>
</nobr></div>
<div style="position:absolute;top:1181.986;left:335.814;"><nobr>
<span style="font-size:20.022;">TOR</span>
</nobr></div>
<div style="position:absolute;top:1206.853;left:338.176;"><nobr>
<span style="font-size:20.022;">NA4</span>
</nobr></div>
<div style="position:absolute;top:1231.720;left:321.353;"><nobr>
<span style="font-size:20.022;">NAPOT</span>
</nobr></div>
<div style="position:absolute;top:1131.519;left:417.718;"><nobr>
<span style="font-size:20.022;">Description</span>
</nobr></div>
<div style="position:absolute;top:1157.119;left:417.718;"><nobr>
<span style="font-size:20.022;">Null region (disabled)</span>
</nobr></div>
<div style="position:absolute;top:1181.986;left:417.718;"><nobr>
<span style="font-size:20.022;">Top of range</span>
</nobr></div>
<div style="position:absolute;top:1206.853;left:417.718;"><nobr>
<span style="font-size:20.022;">Naturally aligned four-byte region</span>
</nobr></div>
<div style="position:absolute;top:1231.720;left:417.718;"><nobr>
<span style="font-size:20.022;">Naturally aligned power-of-two region,</span>
<span style="font-size:20.022;font-style:italic;">≥</span>
<span style="font-size:20.022;">8 bytes</span>
</nobr></div>
<div style="position:absolute;top:1295.873;left:288.205;"><nobr>
<span style="font-size:20.022;">Table 3.9: Encoding of A field in PMP configuration registers.</span>
</nobr></div>
</td></tr>
</table>
